---
argo-cd:
  dex:
    enabled: false
  server:
    extraArgs:
      - --insecure
    ingress:
      enabled: true
      annotations:
        cert-manager.io/cluster-issuer: "letsencrypt-prod"
        kubernetes.io/tls-acme: "true"
        nginx.ingress.kubernetes.io/ssl-passthrough: "true"
        nginx.ingress.kubernetes.io/auth-url: "https://auth.zzd.ai/oauth2/auth"
        nginx.ingress.kubernetes.io/auth-signin: "https://auth.zzd.ai/oauth2/start?rd=https://"
      labels: {}
      ingressClassName: "nginx"
      hosts:
        - argo.zzd.ai
      paths:
        - /
      pathType: Prefix
      extraPaths:
      tls:
        - secretName: argocd-secret
          hosts:
            - argo.zzd.ai
    additionalApplications:
      - name: base
        project: default
        source:
          repoURL: https://github.com/omdv/homelab-server
          targetRevision: HEAD
          path: cluster/base
        destination:
          server: https://kubernetes.default.svc
        syncPolicy:
          automated:
            prune: false
            selfHeal: true
      - name: apps
        project: default
        source:
          repoURL: https://github.com/omdv/homelab-server
          targetRevision: HEAD
          path: cluster/apps
        destination:
          server: https://kubernetes.default.svc
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
  configs:
    secret:
      argocdServerAdminPassword: $2a$10$5eRepAXxffCbK1mp2YItEetxYP513UNRC9hWFb5YIQg2H4Zx2BXn6
