---
kube-prometheus-stack:
  fullnameOverride: prom
  kubeStateMetrics:
    enabled: true
  prometheus-node-exporter:
    fullnameOverride: node-exporter
  kubeControllerManager:
    enabled: false
  kubeScheduler:
    enabled: false
  kubeProxy:
    enabled: false
  grafana:
    enabled: true
    ingress:
      enabled: true
      ingressClassName: nginx
      path:
      hosts:
        - host: metrics.hut.sh
          paths:
            - path: /
              pathType: Prefix
      annotations:
        cert-manager.io/cluster-issuer: "letsencrypt-prod"
        nginx.ingress.kubernetes.io/auth-url: "https://auth.hut.sh/oauth2/auth"
        nginx.ingress.kubernetes.io/auth-signin: "https://auth.hut.sh/oauth2/start?rd=https://$host$uri"
        hajimari.io/enable: "true"
      tls:
        - hosts:
            - metrics.hut.sh
          secretName: my-certs-metrics
  alertmanager:
    enabled: false
  kubeEtcd:
    enabled: false
