---
deployment:
  annotations:
    prometheus.io/scrape: "true"
  labels:
    app: traefik
globalArguments:
  - --global.checknewversion
additionalArguments:
  - --certificatesresolvers.default.acme.tlschallenge
  - --certificatesresolvers.default.acme.email=omdv.public@gmail.com
  - --certificatesresolvers.default.acme.storage=/data/acme.json
logs:
  access:
    enabled: true
    format: json
ports:
  web:
    redirectTo: websecure
  metrics:
    expose: true
    exposedPort: 9119
    port: 9100
    protocol: TCP
# persistence:
#   enabled: true
#   existingClaim: pvc-traefik
#   path: /data
persistence:
  enabled: true
  name: data
  accessMode: ReadWriteOnce
  size: 128Mi
  storageClass: "longhorn"
  path: /data
  annotations: {}
resources:
  requests:
    cpu: "100m"
    memory: "50Mi"
  limits:
    cpu: "300m"
    memory: "150Mi"
