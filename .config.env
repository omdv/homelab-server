#
# Cluster related variables
#

# The repo you created from this template
# e.g. https://github.com/k8s-at-home/home-cluster
export BOOTSTRAP_GIT_REPOSITORY="https://github.com/omdv/homelab-server"

#
# This variables will be injected into vault
#

# Inject OAUTH settings
# e.g https://kubernetes.github.io/ingress-nginx/examples/auth/oauth-external-auth/#example-oauth2-proxy-kubernetes-dashboard
export VAULT_OAUTH2_CLIENT_ID="${HOMELAB_OAUTH2_CLIENT_ID}"
export VAULT_OAUTH2_CLIENT_SECRET="${HOMELAB_OAUTH2_CLIENT_SECRET}"
export VAULT_OAUTH2_COOKIE_SECRET="${HOMELAB_OAUTH2_COOKIE_SECRET}"
export VAULT_OAUTH2_EMAIL_WHITELIST="${HOMELAB_OAUTH2_EMAIL_WHITELIST}"

# ARGO admin password
export BOOTSTRAP_ARGO_ADMIN_PASSWORD="${HOMELAB_ARGOCD_PASSWORD}"

# NAMECHEAP password for dynamic dns update
export VAULT_DYNDNS_NAMECHEAP_PASSWORD="${NAMECHEAP_DNS_PASS}"
export VAULT_DYNDNS_NAMECHEAP_DOMAIN="${HOMELAB_DOMAIN}"

# Postgres settings
export VAULT_POSTGRES_PASSWORD="${HOMELAB_POSTGRES_PASS}"
export VAULT_POSTGRES_PGADMIN_EMAIL="${HOMELAB_PGADMIN_EMAIL}"
export VAULT_POSTGRES_PGADMIN_PASSWORD="${HOMELAB_PGADMIN_PASS}"

# WIREGUARD config in vault - place a country code of WG server here
# this will be used for the liveness probe
export VAULT_WIREGUARD_COUNTRY=SE

# Samba user/pass
export VAULT_SAMBA_USER="${HOMELAB_SAMBA_USER}"
export VAULT_SAMBA_PASSWORD="${HOMELAB_SAMBA_PASSWORD}"

# Age Public Key - string should start with age
# e.g. age15uzrw396e67z9wdzsxzdk7ka0g2gr3l460e0slaea563zll3hdfqwqxdta
export BOOTSTRAP_AGE_PUBLIC_KEY="age1k30whteuhd93qd9sgcrnj2cur0dz5dgtj7vyhsc2hjeph0u3p97s70v7lg"

# Telegram notifications
export VAULT_TELEGRAM_BOT_TOKEN="${HOMELAB_TELEGRAM_BOT_TOKEN}"
export VAULT_TELEGRAM_BOT_CHAT_ID="${HOMELAB_TELEGRAM_BOT_CHAT_ID}"

# ICloud Photo downloader
export VAULT_ICLOUDPD_APPLE_USER_OM="${HOMELAB_APPLE_USER_OM}"

#
# Ansible hosts - using just one host
# refer to upstream repo if want to add more
#

# Host IP Address to the control plane node
export BOOTSTRAP_ANSIBLE_HOST_ADDR="${HOMELAB_LOCAL_IP}"
# User Ansible will log into the nodes
export BOOTSTRAP_ANSIBLE_SSH_USERNAME="${HOMELAB_USER}"
# Password Ansible will use to escalate to sudo
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD="${HOMELAB_ROOT_PASS}"
# Hostname for main node
export BOOTSTRAP_ANSIBLE_HOST_NAME="remote"


#
# Cloudflare setup
#
export BOOTSTRAP_CLOUDFLARE_DOMAIN="${HOMELAB_CLOUDFLARE_DOMAIN}"
export BOOTSTRAP_CLOUDFLARE_API_TOKEN="${HOMELAB_CLOUDFLARE_API_TOKEN}"
